


文件夹 | 描述  
- | :-: 
/src/cmd/ |  包含不同的命令行工具。
/src/cmd/go/ |  该目录下包含一个 Go 工具的源代码文件。此工具用于下载编译 Go 的源文件，以及安装 Go 语言的包。在完成上述工作中，它会收集所有源文件并调用 Go 链接器与编译器。
/src/cmd/dist/ | 此目录下也包含一个工具。此工具用于编译生成所有其它命令行工具。同时，它会由标准库生成所有的包。要想搞明白每个工具或者包到底用到了哪些库，你就需要分析这里的源代码。
/src/cmd/gc/ | 包含 Go 编译器与系统架构无关的部分。
/src/cmd/ld/ |包含 Go 链接器与系统架构无关的部分。与系统架构相关的部分被放在以 l 开头的目录中。这些目录的命名规则与编译器部分的命名规则相同。
/src/cmd/5a/, 6a, 8a, and 9a|此目录下存放针对不同架构的 Go 语言汇编编译器。Go 汇编程序的语言并不能一一对应地映射到下层机器的汇编语言。不过，对于每种不同的架构都存在一个将 Go 汇编程序翻译为机器汇编程序的编译器。你可以这这里找到更多内容。
/src/lib9/, /src/libbio, /src/liblink|在编译器、链接器、以及运行时中用到的不同库。
/src/runtime/|这部分包含了 Go 语言最重要的包，所有程序都默认导入这些包。其中包括所有的运行时功能，比如内存管理、垃圾回收、Go 协程（goroutine）等等。





####编译过程
* 初始化通用数据结构
* 遍历go源代码文件，语法分析（yyparsw方法），使用Bison作为程序分析生成器，语法描述存储在go.y文件（包含语言的语法规则）。这一步生成完整语法树，每个结点表示编译后程序的一个元素（一个结点对应一个元素）
* 遍历生成的树，作出一些修改。（例如为那些应当隐式定义的节点指定类型信息、重写在运行时包中传递给函数的某些语言元素——如类型转换，以及其它一些工作）
* 语法解析树处理完成后，再执行真正的编译，将结点翻译成汇编代码。
* 在磁盘上创建目标文件，并将翻译生成的汇编代码以及一些额外的数据结构，如符号表等，写入目标文件中


####工具
####书籍
	Go 语言程序设计
	Go语言编程
	Go Web编程
	Go语言学习笔记
	Web Development with Go
	Go语言圣经
######go tool 6g -W test.go
*  -W 参数，这个参数会输出结点树的布局结构
* 6g 是 AMD64 架构上编译器的名称
######go tool 6g -S test.go `好象是新本本不是这样用`
* 编译器会输出生成的汇编代码

####编译器会输出两个版本的结点树：
* 刚解析完源文件生成的原始结点树
* 完成类型检查以及一些修改


####杂项
* 标准命名规则，所以每一个包（pakage）都在一个独立的文件夹中,文件夹的名称与包名称相同
* 编译器用来将源代码编译成二进制指令码，一些包因为需要调用系统底层api所以使用汇编实现
* 因为golang没有线程的api，没有了过于底层的api，但是实现一个golang还是需要这些底层api的，所以golang就调用了汇编，来间接调用底层api（线程和进程）
* 因为golang没有线程的api，没有了过于底层的api，但是实现一个golang还是需要这些底层api的，所以golang就调用了汇编，来间接调用底层api（线程和进程）
* go语言中使用的是非连续栈。原因是需要支持goroutine。
* go关键字的调用协议与普通函数调用是不同的
* Go 中的汇编代码主要用于优化和与底层系统交互，Go ASM 并不会像其它的经典汇编代码那样独立运行。Go ASM 必须在 Go 代码中调用
* goroutine从一个操作系统线程转移到另一个操作系统线程
* 一个指向变量的指针也并没有展示变量真实的地址。因为垃圾回收器可能会根据需要移动变量的内存位置，当然变量对应的地址也会被自动更新
* int等类型就依赖于CPU机器字的大小
* unsafe包是一个采用特殊方式实现的包,但它实际上是由编译器实现的



####源码相关
#####go 的 src 目录下面存在三套编译文件：

* window 平台， 所有 bat 文件
* plan9 平台，所有 rc 文件
* unix 类平台，所有bash 文件

src/all.bash
->make.bash
->dist banner 可执行文件